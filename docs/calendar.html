<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Temporal documentation</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/kognise/water.css@latest/dist/light.min.css">
    <script type="application/javascript" src="./playground.js"></script>
    <link rel="stylesheet" type="text/css" href="./prism.css">
    <script>
      Temporal = { ...temporal.Temporal };
      Object.assign(Intl, temporal.Intl);

      // Customize output of Temporal objects for Chrome DevTools
      if (!window.devtoolsFormatters)
        window.devtoolsFormatters = [];
      window.devtoolsFormatters.push({
        header(x) {
          for (const type of [
            Temporal.Instant,
            Temporal.Calendar,
            Temporal.PlainDate,
            Temporal.PlainDateTime,
            Temporal.Duration,
            Temporal.PlainMonthDay,
            Temporal.PlainTime,
            Temporal.TimeZone,
            Temporal.PlainYearMonth
          ]) {
            if (x instanceof type) return ['span', {}, `${x[Symbol.toStringTag]} <${x}>`];
          }
          return null;
        },
        hasBody(x) {
          return x instanceof Temporal.Duration;
        },
        body(x) {
          const out = ['ol', { style: 'list-style-type: none;' }];
          for (const prop of [
            'years',
            'months',
            'weeks',
            'days',
            'hours',
            'minutes',
            'seconds',
            'milliseconds',
            'microseconds',
            'nanoseconds'
          ]) {
            if (x[prop] !== 0) out.push([
              'li',
              {},
              ['span', { style: 'color: purple;' }, prop],
              `: `,
              ['span', { style: 'color: blue;' }, x[prop]]
            ]);
          }
          return out;
        }
      });
    </script>
    <style>
      /* https://github.com/kognise/water.css/blob/master/src/variables-light.css */
      :root {
        --background: #efefef;
        --text-muted: #999999;
        --text-bright: #000000;
        --text-width: 900px;
        --variable: #39a33c;
      }
      body {
        font-size: 18px;
        max-width: var(--text-width);
        padding-top: 40px;  /* extra padding for banner */
        line-height: 1.5;
      }
      pre { border-left: 4px solid var(--variable); }
      code {
        padding: 1px 5px 2px 5px;
        line-height: 1.1;
        display: inline-block;
      }
      a code { color: inherit; }
      a code:hover { text-decoration: underline; }
      pre code { line-height: 1.4; }
      pre code[class*="language-"] { font-size: 0.85em; }
      pre[class*="language-"] { padding: 0.5em; }
      h1 { margin-top: 13px; }
      h2 { border-bottom: 2px solid var(--text-muted); margin-top: 2em; }
      h3 {
        border-bottom: 1px solid var(--text-muted);
        color: var(--text-muted);
        font-weight: normal;
      }
      h3 em { font-weight: bold; }
      h3 strong { color: var(--text-bright); }
      :not(h2) + h3 { margin-top: 2em; }
      footer {
        border-top: 1px solid var(--background);
        color: var(--text-muted);
        font-size: 0.8em;
        margin-top: 2em;
        padding-top: 10px;
      }
      .heading-link {
        left: calc((100vw - var(--text-width)) / 2 - 1.5em);
        opacity: 0;
        position: absolute;
        transition: opacity 150ms;
      }
      .heading-link:hover { text-decoration: none; }
      .heading-link::before { content: 'Â¶'; }
      h2:hover .heading-link, h3:hover .heading-link, h4:hover .heading-link, h5:hover .heading-link { opacity: 0.75; }
      .banner {
        /* Gradient from https://joshnh.com/weblog/how-to-make-an-alert-bar/ */
        background-color: #fce94f;
        background-image: linear-gradient(135deg,
                                          transparent,
                                          transparent 25%,
                                          rgba(0, 0, 0, .05) 25%,
                                          rgba(0, 0, 0, .05) 50%,
                                          transparent 50%,
                                          transparent 75%,
                                          rgba(0, 0, 0, .05) 75%,
                                          rgba(0, 0, 0, .05));
        background-size: 20px 20px;
        box-shadow: 0 5px 0 rgba(0, 0, 0, .1);
        left: 0;
        padding: 0.4em 0;
        position: absolute;
        text-align: center;
        top: 0;
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div class="banner">
      This Stage 3 proposal is <strong><a href="https://blogs.igalia.com/compilers/2020/06/23/dates-and-times-in-javascript/">experimental.</a></strong>
      <strong>Do</strong> try it and <a href="https://github.com/tc39/proposal-temporal/issues">report bugs</a>; <strong>don't</strong> use it in production!
    </div>
<h1 id="temporalcalendar"><a class="heading-link" href="#temporalcalendar"></a>Temporal.Calendar</h3><details>
  <summary><strong>Table of Contents</strong></summary>
<ul>
<li><a href="#when-to-use-temporalcalendar">When to use Temporal.Calendar</a>
</li>
<li><a href="#invariants-across-calendars">Invariants Across Calendars</a>
</li>
<li><a href="#writing-cross-calendar-code">Writing Cross-Calendar Code</a>
</li>
<li><a href="#custom-calendars">Custom calendars</a>
</li>
<li><a href="#handling-unusual-dates-leap-days-leap-months-and-skipped-or-repeated-periods">Handling unusual dates: leap days, leap months, and skipped or repeated periods</a>
</li>
<li><a href="#constructor">Constructor</a>
<ul>
<li><a href="#new-Temporal-Calendar">new Temporal.Calendar</a>
</li>
</ul>
</li>
<li><a href="#static-methods">Static methods</a>
<ul>
<li><a href="#from">from</a>
</li>
</ul>
</li>
<li><a href="#properties">Properties</a>
<ul>
<li><a href="#id">id</a>
</li>
</ul>
</li>
<li><a href="#methods">Methods</a>
<ul>
<li><a href="#era">era</a>
</li>
<li><a href="#eraYear">eraYear</a>
</li>
<li><a href="#year">year</a>
</li>
<li><a href="#month">month</a>
</li>
<li><a href="#monthCode">monthCode</a>
</li>
<li><a href="#day">day</a>
</li>
<li><a href="#dayOfWeek">dayOfWeek</a>
</li>
<li><a href="#dayOfYear">dayOfYear</a>
</li>
<li><a href="#weekOfYear">weekOfYear</a>
</li>
<li><a href="#yearOfWeek">yearOfWeek</a>
</li>
<li><a href="#daysInWeek">daysInWeek</a>
</li>
<li><a href="#daysInMonth">daysInMonth</a>
</li>
<li><a href="#daysInYear">daysInYear</a>
</li>
<li><a href="#monthsInYear">monthsInYear</a>
</li>
<li><a href="#inLeapYear">inLeapYear</a>
</li>
<li><a href="#dateFromFields">dateFromFields</a>
</li>
<li><a href="#yearMonthFromFields">yearMonthFromFields</a>
</li>
<li><a href="#monthDayFromFields">monthDayFromFields</a>
</li>
<li><a href="#dateAdd">dateAdd</a>
</li>
<li><a href="#dateUntil">dateUntil</a>
</li>
<li><a href="#fields">fields</a>
</li>
<li><a href="#mergeFields">mergeFields</a>
</li>
<li><a href="#toString">toString</a>
</li>
<li><a href="#toJSON">toJSON</a>
</li>
</ul>
</li>
</ul>
</details>

<p>A <code>Temporal.Calendar</code> is a representation of a calendar system.
It includes information about how many days are in each year, how many months are in each year, how many days are in each month, and how to do arithmetic in that calendar system.</p>
<p>Much of the world uses the <a href="https://en.wikipedia.org/wiki/Gregorian_calendar">Gregorian calendar</a>, which was invented in 1582 C.E.
The ISO 8601 standard extends the Gregorian date reckoning backwards (&quot;proleptically&quot;) to cover the period of history before its invention, to allow designating dates before 1582.
The ISO 8601 calendar is the system most often used in computing, on the modern Internet.</p>
<p>A significant number of places in the world use another calendar system as the main calendar, or use the Gregorian calendar alongside another calendar system as a commonly-used civil or religious calendar.
Even places that use almost exclusively the Gregorian calendar today, often use a different calendar to denote dates before the invention or adoption of the Gregorian calendar.</p>
<h3 id="when-to-use-temporalcalendar"><a class="heading-link" href="#when-to-use-temporalcalendar"></a>When to use <code>Temporal.Calendar</code></h3><p>It is best practice to specify a calendar system when performing calendar-sensitive operations, which are those involving arithmetic or other calculation in months or years.</p>
<p>For example, to add a month to a date in the Hebrew calendar:</p>
<pre class="language-javascript"><code class="language-javascript">date<span class="token punctuation">.</span><span class="token function">withCalendar</span><span class="token punctuation">(</span><span class="token string">'hebrew'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">months</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Temporal types&#39; <code>toLocaleString()</code> methods use the user&#39;s preferred calendar, without needing to call <code>withCalendar()</code>.
To perform arithmetic consistently with the <code>toLocaleString()</code> calendar system:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> calendar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intl<span class="token punctuation">.</span>DateTimeFormat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">resolvedOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>calendar<span class="token punctuation">;</span>
date<span class="token punctuation">.</span><span class="token function">withCalendar</span><span class="token punctuation">(</span>calendar<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">months</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="invariants-across-calendars"><a class="heading-link" href="#invariants-across-calendars"></a>Invariants Across Calendars</h3><p>The following &quot;invariants&quot; (statements that are always true) hold for all built-in calendars, and should also hold for any properly-authored custom calendar that supports years, months, and days units:</p>
<ul>
<li>Any date can be serialized to an object using only four properties: <code>{ year, month, day, calendar }</code></li>
<li><code>year</code> is always an integer (which may be zero or negative) that increases as time goes forward</li>
<li><code>month</code> and <code>day</code> are always positive integers that increase as time goes forward, except they reset at the boundary of a year or month, respectively</li>
<li><code>month</code> is always continuous (no gaps)</li>
<li><code>date.month === 1</code> during the first month of any year, because <code>month</code> always represents the order of months in that year.</li>
<li><code>obj.with({ day: 1 })</code> will always return the first day of the object&#39;s month, even if the resulting <code>day</code> is not 1.</li>
<li><code>obj.with({ day: Number.MAX_VALUE })</code> will always return the last day of the object&#39;s month.</li>
<li><code>obj.with({ month: 1, day: 1 })</code> will always return the first day of the object&#39;s year.</li>
<li><code>obj.with({ month: obj.monthsInYear, day: Number.MAX_VALUE })</code> will always return the last day of the object&#39;s year.</li>
<li><code>obj.month === obj.monthsInYear</code> during the last month of any year</li>
<li><code>dayOfWeek</code>, <code>dayOfYear</code>, and <code>weekOfYear</code> are 1-based positive integers, that increase consecutively as time goes forward, except they reset at the boundary of a week or year, respectively</li>
</ul>
<h3 id="writing-cross-calendar-code"><a class="heading-link" href="#writing-cross-calendar-code"></a>Writing Cross-Calendar Code</h3><p>Here are best practices for writing code that will work regardless of the calendar used:</p>
<ul>
<li>Validate or coerce the calendar of all external input.
If your code receives a Temporal object from an external source, you should check that its calendar is what you expect, and if you are not prepared to handle other calendars, convert it to the ISO 8601 calendar using <code>withCalendar(&#39;iso8601&#39;)</code>.
Otherwise, you may end up with unexpected behavior in your app or introduce security or performance issues by introducing an unexpected calendar.</li>
<li>Use <code>compare</code> methods (e.g. <code>Temporal.PlainDate.compare(date1, &#39;2000-01-01&#39;)</code>) instead of manually comparing individual properties (e.g. <code>date.year &gt; 2000</code>) whose meaning may vary across calendars.</li>
<li>Never compare field values in different calendars.
A <code>month</code> or <code>year</code> in one calendar is unrelated to the same property values in another calendar.
To compare dates across calendars, use the <code>compare</code> method.</li>
<li>When comparing dates for equality that might be in different calendars, convert them both to the same calendar using <code>withCalendar</code>.
The same ISO date in different calendars will return <code>false</code> from the <code>equals</code> method because the calendars are not equal.</li>
<li>When looping through all months in a year, use <code>monthsInYear</code> as the upper bound instead of assuming that every year has 12 months.</li>
<li>Don&#39;t assume that <code>date.month===12</code> is the last month of the year.
Instead, use <code>date.month===date.monthsInYear</code>.</li>
<li>Use <code>until</code> or <code>since</code> to count years, months, or days between dates.
Manually calculating differences (e.g. <code>Math.floor(months/12)</code>) will fail for some calendars.</li>
<li>Use <code>daysInMonth</code> instead of assuming that each month has the same number of days in every year.</li>
<li>Days in a month are not always continuous.
There can be gaps due to political changes in calendars and/or time zones.
For this reason, instead of looping through a month from 1 to <code>date.daysInMonth</code>, it&#39;s better to start a loop with the first day of the month (<code>.with({day: 1})</code>) and <code>add</code> one day at a time until the <code>month</code> property returns a different value.</li>
<li>Use <code>daysInYear</code> instead of assuming that every year has 365 days (366 in a leap year).</li>
<li>Don&#39;t assume that <code>inLeapYear===true</code> implies that the year is one day longer than a regular year.
Some calendars add leap months, making the year 29 or 30 days longer than a normal year!</li>
<li>Use <code>toLocaleString</code> to format dates to users.
DO NOT localize manually with code like <code>${month}/${day}/${year}</code>.</li>
<li>Don&#39;t assume that <code>month</code> has the same name in every year.<br>Some calendars like Hebrew or Chinese have leap months that cause months to vary across years.</li>
<li>Use the correct property to refer to months.
If you care about the order of the month in a particular year (e.g. when looping through all the months in a year) use <code>month</code>.
If you care about the name of the month regardless of what year it is (e.g. storing a birthday), use the <code>monthCode</code> string property.</li>
<li>When using the <code>Temporal.PlainMonthDay</code> type (e.g. for birthdays or holidays), use its <code>monthCode</code> property only.
The <code>month</code> property is not present on this type because some calendars&#39; month indexes vary from year to year.</li>
<li>When calling <code>Temporal.PlainMonthDay.prototype.toPlainDate(year)</code>, be prepared for the resulting date to have a different day of the month and/or a different month, because leap days and leap months are not present in every year.</li>
<li>Use <code>toLocaleString</code> to fetch month names instead of caching an array of names.
Example: <code>date.toLocaleString(&#39;en-US&#39;, { calendar: date.calendar, month: &#39;long&#39; })</code>.
If you absolutely must cache month names, a string key like <code>${date.calendar.id}|{date.monthCode}|{date.inLeapYear}</code> will work for all built-in calendars.</li>
<li>Don&#39;t assume that <code>era</code> or <code>eraYear</code> properties are always present.
They are not present in some calendars.</li>
<li><code>era</code> and <code>eraYear</code> should always be used as a pair.
Don&#39;t use one property without also using the other.</li>
<li>Don&#39;t combine <code>month</code> and <code>monthCode</code> in the same property bag.
Pick one month representation and use it consistently.</li>
<li>Don&#39;t combine <code>year</code> and <code>era</code>/<code>eraYear</code> in the same property bag.
Pick one year representation and use it consistently.</li>
<li>Read the documentation of your calendar to determine the meaning of <code>monthCode</code> and <code>era</code>.</li>
<li>Don&#39;t show <code>monthCode</code> and <code>era</code> values in a UI.
Instead, use <code>toLocaleString</code> to convert these values into localized strings.</li>
<li>Don&#39;t assume that the year before <code>{ eraYear: 1 }</code> is the last year of the previous era.
Some calendars have a &quot;year zero&quot;, and the oldest era in era-using calendars typically allows negative <code>eraYear</code> values.</li>
</ul>
<h3 id="custom-calendars"><a class="heading-link" href="#custom-calendars"></a>Custom calendars</h3><p>For specialized applications where you need to do calculations in a calendar system that is not supported by Intl, you can implement a custom calendar.
There are two ways to do this.</p>
<p>The recommended way is to create a class inheriting from <code>Temporal.Calendar</code>.
You must use one of the built-in calendars as the &quot;base calendar&quot;.
In the class&#39;s constructor, call <code>super()</code> with the identifier of a built-in calendar to serve as a base.
The class must override the <code>id</code> prototype property, and should also override <code>toString()</code> and <code>toJSON()</code> to match.
Overriding all the other properties of <code>Temporal.Calendar.prototype</code> is optional.
Any property that&#39;s not overridden will behave as in the base calendar.
It&#39;s recommended to override <code>dateFromFields()</code>, <code>monthDayFromFields()</code>, <code>yearMonthFromFields()</code>, and <code>dateAdd()</code>so that they return Temporal objects with the custom calendar and not the base calendar.</p>
<p>The other, more difficult, way to create a custom calendar is to create a plain object implementing the <code>Temporal.Calendar</code> protocol, without subclassing.
The object must implement all of the <code>Temporal.Calendar</code> properties and methods except for <code>toString()</code> and <code>toJSON()</code>.
Any object with the required properties and methods will return the correct output from any Temporal property or method.
However, most other code will assume that custom calendars act like built-in <code>Temporal.Calendar</code> objects.
To interoperate with libraries or other code that you didn&#39;t write, then you should implement the <code>toString()</code> and <code>toJSON()</code> methods as well.</p>
<p>The identifier of a custom calendar must consist of one or more components of between 3 and 8 ASCII alphanumeric characters each, separated by dashes, as described in <a href="https://unicode.org/reports/tr35/tr35.html#Unicode_locale_identifier">Unicode Technical Standard 35</a>.</p>
<p>Custom calendars are responsible for interpreting and validating all inputs, including options.
Calendars should (and built-in calendars will) throw a TypeError if a required option is missing or has the wrong type, but throw a RangeError if it&#39;s present but has an invalid value.</p>
<p>Calendars are also responsible for assigning default values.
For example, if the <code>overflow</code> option is undefined, it will be interpreted by built-in calendars as <code>&#39;constrain&#39;</code>.
Custom calendars should maintain this behavior unless there&#39;s a good reason not to.
Calendars can also accept additional non-default values for existing options or can accept new options that built-in calendars don&#39;t.
When adding new options, calendar authors should use a unique prefix, e.g. the name of the calendar, to avoid potential conflicts with future options which may be used by Temporal.</p>
<h3 id="handling-unusual-dates-leap-days-leap-months-and-skipped-or-repeated-periods"><a class="heading-link" href="#handling-unusual-dates-leap-days-leap-months-and-skipped-or-repeated-periods"></a>Handling unusual dates: leap days, leap months, and skipped or repeated periods</h3><p>Calendars can vary from year to year.
<a href="https://en.wikipedia.org/wiki/Solar_calendar">Solar calendars</a> like <code>&#39;gregory&#39;</code> use leap days.
<a href="https://en.wikipedia.org/wiki/Lunar_calendar">Lunar calendars</a> like <code>&#39;islamic&#39;</code> adjust month lengths to lunar cycles.
<a href="https://en.wikipedia.org/wiki/Lunisolar_calendar">Lunisolar calendars</a> like <code>&#39;hebrew&#39;</code> or <code>&#39;chinese&#39;</code> have &quot;leap months&quot;: extra months added every few years.</p>
<p>Calendars may also have one-time changes.
The built-in <code>&#39;gregory&#39;</code> calendar in ECMAScript doesn&#39;t skip days because it&#39;s a <a href="https://en.wikipedia.org/wiki/Proleptic_Gregorian_calendar">proleptic Gregorian calendar</a>, but other calendars may skip days, months, or even years.
For example, a non-proleptic custom calendar for France would have 4 October 1582 (the last day of the <a href="https://en.wikipedia.org/wiki/Julian_calendar">Julian calendar</a>) directly followed by 15 October 1582 (the first day of the <a href="https://en.wikipedia.org/wiki/Gregorian_calendar">Gregorian calendar</a>), skipping 10 calendar days.</p>
<p>Calendar variation across years means that programs may encounter historical dates that are valid in one year but invalid in another.
A common example is calling <code>toPlainDate</code> on a <code>Temporal.PlainMonthDay</code> object to convert a birthday or anniversary that originally fell on a leap day, leap month, or other skipped period.
Temporal types&#39; <code>with</code> or <code>from</code> methods can run into the same issue.</p>
<p>When Temporal encounters inputs representing a month and/or day that doesn&#39;t exist in the desired calendar year, by default (overridable in <code>with</code> or <code>from</code> via the <code>overflow</code> option) the inputs will be adjusted using the following algorithm:</p>
<ul>
<li>First, pick the closest <code>day</code> in the same month.
If there are two equally-close dates in that month, pick the later one.</li>
<li>If the month is a leap month that doesn&#39;t exist in the desired year, then pick another date according to the cultural conventions of that calendar&#39;s users.
Usually this will result in the same <code>day</code> in the month before or the month after where that month would normally fall in a leap year.</li>
<li>Otherwise, pick the closest date to the provided date that is still in the same year.
If there are two equally-close dates, pick the later one.</li>
<li>If the entire year doesn&#39;t exist, then pick the closest date to the provided date.
If there are two equally-close dates, pick the later one.</li>
</ul>
<p>Authors of custom calendars (especially Julian-to-Gregorian calendars that include a skipped period) must follow the rules above; otherwise, callers may experience unexpected behavior.</p>
<p>Finally, just like calendars can sometimes skip days or months, it is possible for real-world calendars to repeat dates, for example when a country transitions from one calendar system to another.
No current built-in calendar repeats dates, but a custom calendar that includes repeated dates may add custom fields and/or options to help users handle this case.</p>
<h2 id="constructor"><a class="heading-link" href="#constructor"></a>Constructor</h3><h3 id="new-Temporal-Calendar"><a class="heading-link" href="#new-Temporal-Calendar"></a><strong>new Temporal.Calendar</strong>(<em>calendarIdentifier</em>: string) : Temporal.Calendar</h3><p><strong>Parameters:</strong></p>
<ul>
<li><code>calendarIdentifier</code> (string): An identifier for the calendar.</li>
</ul>
<p><strong>Returns:</strong> a new <code>Temporal.Calendar</code> object.</p>
<p>For a list of calendar identifiers, see the documentation for <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/DateTimeFormat#Parameters">Intl.DateTimeFormat</a>.
If <code>calendarIdentifier</code> is not a built-in calendar, then a <code>RangeError</code> is thrown.</p>
<p>Use this constructor directly if you have a string that is known to be a correct built-in calendar identifier.
If you have an ISO 8601 date-time string with a <code>[u-ca=identifier]</code> annotation, then <code>Temporal.Calendar.from()</code> is more convenient than parsing the identifier out of the string.</p>
<p>Example usage:</p>
<pre class="language-javascript"><code class="language-javascript">cal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Temporal<span class="token punctuation">.</span>Calendar</span><span class="token punctuation">(</span><span class="token string">'iso8601'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Temporal<span class="token punctuation">.</span>Calendar</span><span class="token punctuation">(</span><span class="token string">'gregory'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* WRONG */</span> cal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Temporal<span class="token punctuation">.</span>Calendar</span><span class="token punctuation">(</span><span class="token string">'discordian'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => throws, not a built-in calendar</span></code></pre><h2 id="static-methods"><a class="heading-link" href="#static-methods"></a>Static methods</h3><h3 id="from"><a class="heading-link" href="#from"></a>Temporal.Calendar.<strong>from</strong>(<em>thing</em>: any) : Temporal.Calendar</h3><p><strong>Parameters:</strong></p>
<ul>
<li><code>thing</code>: A calendar object, a Temporal object that carries a calendar, or a value from which to create a <code>Temporal.Calendar</code>.</li>
</ul>
<p><strong>Returns:</strong> a calendar object.</p>
<p>This static method creates a new calendar from another value.
If the value is another <code>Temporal.Calendar</code> object, or object implementing the calendar protocol, the same object is returned.
If the value is another Temporal object that carries a calendar or an object with a <code>calendar</code> property, such as a <code>Temporal.ZonedDateTime</code>, the object&#39;s calendar is returned.</p>
<p>Any other value is required to be a string that is either:</p>
<ul>
<li>a calendar idenfier accepted by <code>new Temporal.Calendar()</code>; or</li>
<li>a string in the ISO 8601 format.</li>
</ul>
<p>Note that the ISO 8601 string can be extended with a <code>[u-ca=identifier]</code> annotation in square brackets appended to it.
Without such an annotation, the calendar is taken to be <code>iso8601</code>.</p>
<p>This function is often more convenient to use than <code>new Temporal.Calendar()</code> because it handles a wider range of input.</p>
<p>Usage examples:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Calendar names</span>
cal <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Calendar<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'iso8601'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cal <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Calendar<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'gregory'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ISO 8601 string with or without calendar annotation</span>
cal <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Calendar<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'2020-01-13T16:31:00.065858086'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cal <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Calendar<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'2020-01-13T16:31:00.065858086-08:00[America/Vancouver][u-ca=iso8601]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* WRONG */</span> cal <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Calendar<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'[u-ca-iso8601]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => throws, lone annotation not a valid ISO 8601 string</span>

<span class="token comment">// Existing calendar object</span>
cal2 <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Calendar<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>cal<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Custom calendar names cannot be parsed from strings</span>
<span class="token comment">/* WRONG */</span> cal <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Calendar<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'discordian'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => throws, not a built-in calendar</span></code></pre><h2 id="properties"><a class="heading-link" href="#properties"></a>Properties</h3><h3 id="id"><a class="heading-link" href="#id"></a>calendar.<strong>id</strong> : string</h3><p>The <code>id</code> property gives an unambiguous identifier for the calendar.
Effectively, this is whatever <code>calendarIdentifier</code> was passed as a parameter to the constructor.</p>
<p>When subclassing <code>Temporal.Calendar</code>, this property must be overridden to provide an identifier for the custom calendar.</p>
<h2 id="methods"><a class="heading-link" href="#methods"></a>Methods</h3><h3 id="era"><a class="heading-link" href="#era"></a>calendar.<strong>era</strong>(<em>date</em>: Temporal.PlainDate | Temporal.PlainDateTime | Temporal.ZonedDateTime | Temporal.PlainYearMonth | object | string) : string | undefined</h3><h3 id="eraYear"><a class="heading-link" href="#eraYear"></a>calendar.<strong>eraYear</strong>(<em>date</em>: Temporal.PlainDate | Temporal.PlainDateTime | Temporal.ZonedDateTime | Temporal.PlainYearMonth | object | string) : number | undefined</h3><h3 id="year"><a class="heading-link" href="#year"></a>calendar.<strong>year</strong>(<em>date</em>: Temporal.PlainDate | Temporal.PlainDateTime | Temporal.ZonedDateTime | Temporal.PlainYearMonth | object | string) : number</h3><h3 id="month"><a class="heading-link" href="#month"></a>calendar.<strong>month</strong>(<em>date</em>: Temporal.PlainDate | Temporal.PlainDateTime | Temporal.ZonedDateTime | Temporal.PlainYearMonth | object | string) : number</h3><h3 id="monthCode"><a class="heading-link" href="#monthCode"></a>calendar.<strong>monthCode</strong>(<em>date</em>: Temporal.PlainDate | Temporal.PlainDateTime | Temporal.ZonedDateTime | Temporal.PlainYearMonth | Temporal.PlainMonthDay | object | string) : string</h3><h3 id="day"><a class="heading-link" href="#day"></a>calendar.<strong>day</strong>(<em>date</em>: Temporal.PlainDate | Temporal.PlainDateTime | Temporal.ZonedDateTime | Temporal.PlainMonthDay | object | string) : number</h3><h3 id="dayOfWeek"><a class="heading-link" href="#dayOfWeek"></a>calendar.<strong>dayOfWeek</strong>(<em>date</em>: Temporal.PlainDate | Temporal.PlainDateTime | Temporal.ZonedDateTime | object | string): number</h3><h3 id="dayOfYear"><a class="heading-link" href="#dayOfYear"></a>calendar.<strong>dayOfYear</strong>(<em>date</em>: Temporal.PlainDate | Temporal.PlainDateTime | Temporal.ZonedDateTime | object | string): number</h3><h3 id="weekOfYear"><a class="heading-link" href="#weekOfYear"></a>calendar.<strong>weekOfYear</strong>(<em>date</em>: Temporal.PlainDate | Temporal.PlainDateTime | Temporal.ZonedDateTime | object | string): number</h3><h3 id="yearOfWeek"><a class="heading-link" href="#yearOfWeek"></a>calendar.<strong>yearOfWeek</strong>(<em>date</em>: Temporal.PlainDate | Temporal.PlainDateTime | Temporal.ZonedDateTime | object | string): number</h3><h3 id="daysInWeek"><a class="heading-link" href="#daysInWeek"></a>calendar.<strong>daysInWeek</strong>(<em>date</em>: Temporal.PlainDate | Temporal.PlainDateTime | Temporal.ZonedDateTime | object | string): number</h3><h3 id="daysInMonth"><a class="heading-link" href="#daysInMonth"></a>calendar.<strong>daysInMonth</strong>(<em>date</em>: Temporal.PlainDate | Temporal.PlainDateTime | Temporal.ZonedDateTime | Temporal.PlainYearMonth | object | string): number</h3><h3 id="daysInYear"><a class="heading-link" href="#daysInYear"></a>calendar.<strong>daysInYear</strong>(<em>date</em>: Temporal.PlainDate | Temporal.PlainDateTime | Temporal.ZonedDateTime | Temporal.PlainYearMonth | object | string): number</h3><h3 id="monthsInYear"><a class="heading-link" href="#monthsInYear"></a>calendar.<strong>monthsInYear</strong>(<em>date</em>: Temporal.PlainDate | Temporal.PlainDateTime | Temporal.ZonedDateTime | Temporal.PlainYearMonth | object | string): number</h3><h3 id="inLeapYear"><a class="heading-link" href="#inLeapYear"></a>calendar.<strong>inLeapYear</strong>(<em>date</em>: Temporal.PlainDate | Temporal.PlainDateTime | Temporal.ZonedDateTime | Temporal.PlainYearMonth | object | string): boolean</h3><p>The above methods are all similar.
They provide a way to query properties of a particular date in the calendar&#39;s date reckoning.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>date</code> (<code>Temporal.PlainDate</code>, or value convertible to one): A date.</li>
</ul>
<p><strong>Returns:</strong> some piece of data (year, month, day, etc., depending on the method) associated with <code>date</code>, in <code>calendar</code>&#39;s calendar system.</p>
<p>If <code>date</code> is not one of the appropriate Temporal objects, then it will be converted to a <code>Temporal.PlainDate</code> as if it were passed to <code>Temporal.PlainDate.from()</code>.</p>
<p>None of the above methods need to be called directly except in specialized code.
They are called indirectly when reading the various properties of <code>Temporal.ZonedDateTime</code>, <code>Temporal.PlainDateTime</code>, <code>Temporal.PlainDate</code>, <code>Temporal.PlainMonthDay</code>, or <code>Temporal.PlainYearMonth</code>.</p>
<p>For example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> date <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>PlainDate<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'2019-02-06'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withCalendar</span><span class="token punctuation">(</span><span class="token string">'hebrew'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
date<span class="token punctuation">.</span>year<span class="token punctuation">;</span> <span class="token comment">// => 5779</span>
date<span class="token punctuation">.</span>calendar<span class="token punctuation">.</span><span class="token function">year</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// same result, but calling the method directly</span>
date<span class="token punctuation">.</span>monthCode<span class="token punctuation">;</span> <span class="token comment">// => 'M05L'</span>
date<span class="token punctuation">.</span>calendar<span class="token punctuation">.</span><span class="token function">monthCode</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// same result, but calling the method directly</span>
date<span class="token punctuation">.</span>daysInYear<span class="token punctuation">;</span> <span class="token comment">// => 385</span>
date<span class="token punctuation">.</span>calendar<span class="token punctuation">.</span><span class="token function">daysInYear</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// same result, but calling the method directly</span></code></pre><h3 id="dateFromFields"><a class="heading-link" href="#dateFromFields"></a>calendar.<strong>dateFromFields</strong>(<em>fields</em>: object, <em>options</em>: object) : Temporal.PlainDate</h3><h3 id="yearMonthFromFields"><a class="heading-link" href="#yearMonthFromFields"></a>calendar.<strong>yearMonthFromFields</strong>(<em>fields</em>: object, <em>options</em>: object) : Temporal.PlainYearMonth</h3><h3 id="monthDayFromFields"><a class="heading-link" href="#monthDayFromFields"></a>calendar.<strong>monthDayFromFields</strong>(<em>fields</em>: object, <em>options</em>: object) : Temporal.PlainMonthDay</h3><p>The above three methods are similar.
They provide a way to construct other Temporal objects from values in the calendar&#39;s date or time reckoning.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>fields</code> (object): An object with properties similar to what is passed to <code>Temporal.PlainDate.from()</code>, <code>Temporal.PlainYearMonth.from()</code>, or <code>Temporal.PlainMonthDay.from()</code>, respectively.</li>
<li><code>options</code>: (object): An object with properties representing options for constructing the Temporal object.
The following options are recognized:<ul>
<li><code>overflow</code> (string): How to deal with out-of-range values in <code>fields</code>.
Allowed values are <code>constrain</code>, and <code>reject</code>.
The default is <code>constrain</code>.</li>
</ul>
</li>
</ul>
<p><strong>Returns:</strong> a new <code>Temporal.PlainDate</code>, <code>Temporal.PlainYearMonth</code>, or <code>Temporal.PlainMonthDay</code> object, respectively.</p>
<p>None of the above methods need to be called directly except in specialized code.
They are called indirectly when using <code>Temporal.PlainDate.from()</code>, <code>Temporal.PlainDateTime.from()</code>, <code>Temporal.PlainYearMonth.from()</code>, and <code>Temporal.PlainMonthDay.from()</code>.</p>
<p>A custom implementation of these methods would convert the calendar-space arguments to the ISO 8601 calendar, and return an object created using <code>new Temporal.PlainDate(...isoArgs)</code>, with <code>PlainYearMonth</code> and <code>PlainMonthDay</code> substituted for <code>PlainDate</code> as appropriate.</p>
<p>For example:</p>
<!-- prettier-ignore-start -->
<pre class="language-javascript"><code class="language-javascript">date <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>PlainDate<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">5779</span><span class="token punctuation">,</span> <span class="token literal-property property">monthCode</span><span class="token operator">:</span> <span class="token string">'M05L'</span><span class="token punctuation">,</span> <span class="token literal-property property">day</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token literal-property property">calendar</span><span class="token operator">:</span> <span class="token string">'hebrew'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
date<span class="token punctuation">.</span>year<span class="token punctuation">;</span> <span class="token comment">// => 5779</span>
date<span class="token punctuation">.</span>month<span class="token punctuation">;</span> <span class="token comment">// => 6</span>
date<span class="token punctuation">.</span>monthCode<span class="token punctuation">;</span> <span class="token comment">// => 'M05L'</span>
date<span class="token punctuation">.</span>day<span class="token punctuation">;</span> <span class="token comment">// => 18</span>
date<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => '2019-02-23[u-ca=hebrew]'</span>
date<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token string">'en-US'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">calendar</span><span class="token operator">:</span> <span class="token string">'hebrew'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => '18 Adar I 5779'</span>

<span class="token comment">// same result, but calling the method directly and using month index instead of month code:</span>
date <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Calendar<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'hebrew'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">dateFromFields</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">5779</span><span class="token punctuation">,</span> <span class="token literal-property property">month</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token literal-property property">day</span><span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">overflow</span><span class="token operator">:</span> <span class="token string">'constrain'</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><!-- prettier-ignore-end -->

<h3 id="dateAdd"><a class="heading-link" href="#dateAdd"></a>calendar.<strong>dateAdd</strong>(<em>date</em>: Temporal.PlainDate | object | string, <em>duration</em>: Temporal.Duration | object | string, <em>options</em>: object) : Temporal.PlainDate</h3><p>This method provides a way to do time arithmetic in the calendar&#39;s date reckoning.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>date</code> (<code>Temporal.PlainDate</code>, or value convertible to one): A date.</li>
<li><code>duration</code> (<code>Temporal.Duration</code>, or value convertible to one): A duration to add to <code>date</code>.
For subtraction, add a negative duration.</li>
<li><code>options</code> (object): An object with properties representing options for performing the addition or subtraction.
The following options are recognized:<ul>
<li><code>overflow</code> (string): How to deal with out-of-range values in the result of the addition or subtraction.
Allowed values are <code>constrain</code> and <code>reject</code>.
The default is <code>constrain</code>.</li>
</ul>
</li>
</ul>
<p><strong>Returns:</strong> a new <code>Temporal.PlainDate</code> object.</p>
<p>If <code>date</code> is not a <code>Temporal.PlainDate</code> object, or <code>duration</code> not a <code>Temporal.Duration</code> object, then they will be converted to one as if they were passed to <code>Temporal.PlainDate.from()</code> or <code>Temporal.Duration.from()</code>, respectively.</p>
<p>This method does not need to be called directly except in specialized code.
It is called indirectly when using <code>add()</code> and <code>subtract()</code> of <code>Temporal.PlainDateTime</code>, <code>Temporal.PlainDate</code>, and <code>Temporal.PlainYearMonth</code>.</p>
<p>A custom implementation of this method would perform the calendar-specific addition, convert the result to the ISO 8601 calendar, and return an object created using <code>new Temporal.PlainDate(...isoArgs)</code>.</p>
<p>For example:</p>
<pre class="language-javascript"><code class="language-javascript">date <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>PlainDate<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'2020-05-29'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">withCalendar</span><span class="token punctuation">(</span><span class="token string">'islamic'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>Temporal<span class="token punctuation">.</span>Duration<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">months</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">overflow</span><span class="token operator">:</span> <span class="token string">'reject'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
date<span class="token punctuation">.</span>year<span class="token punctuation">;</span> <span class="token comment">// => 1441</span>
date<span class="token punctuation">.</span>month<span class="token punctuation">;</span> <span class="token comment">// => 11</span>
date<span class="token punctuation">.</span>day<span class="token punctuation">;</span> <span class="token comment">// => 7</span>
date<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => '2020-06-28[u-ca=islamic]'</span>

<span class="token comment">// same result, but calling the method directly:</span>
date <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Calendar<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'islamic'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">dateAdd</span><span class="token punctuation">(</span>
  Temporal<span class="token punctuation">.</span>PlainDate<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'2020-05-29'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  Temporal<span class="token punctuation">.</span>Duration<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">months</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">overflow</span><span class="token operator">:</span> <span class="token string">'reject'</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
date<span class="token punctuation">.</span>year<span class="token punctuation">;</span> <span class="token comment">// => 1441</span>
date<span class="token punctuation">.</span>month<span class="token punctuation">;</span> <span class="token comment">// => 11</span>
date<span class="token punctuation">.</span>day<span class="token punctuation">;</span> <span class="token comment">// => 7</span>
date<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => '2020-06-28[u-ca=islamic]'</span></code></pre><h3 id="dateUntil"><a class="heading-link" href="#dateUntil"></a>calendar.<strong>dateUntil</strong>(<em>one</em>: Temporal.PlainDate | object | string, <em>two</em>: Temporal.PlainDate | object | string, <em>options</em>: object) : Temporal.Duration</h3><p><strong>Parameters:</strong></p>
<ul>
<li><code>one</code> (<code>Temporal.PlainDate</code>, or value convertible to one): A date.</li>
<li><code>two</code> (<code>Temporal.PlainDate</code>, or value convertible to one): Another date.</li>
<li><code>options</code> (object): An object with properties representing options for the operation.
The following options are recognized:<ul>
<li><code>largestUnit</code> (optional string): The largest unit of time to allow in the resulting <code>Temporal.Duration</code> object.
Valid values are <code>&#39;auto&#39;</code>, <code>&#39;year&#39;</code>, <code>&#39;month&#39;</code>, and <code>&#39;day&#39;</code>.
The default is <code>&#39;auto&#39;</code>.</li>
</ul>
</li>
</ul>
<p><strong>Returns:</strong> a <code>Temporal.Duration</code> representing the time elapsed after <code>one</code> and until <code>two</code>.</p>
<p>If either of <code>one</code> or <code>two</code> are not <code>Temporal.PlainDate</code> objects, then they will be converted to one as if they were passed to <code>Temporal.PlainDate.from()</code>.</p>
<p>This method does not need to be called directly except in specialized code.
It is called indirectly when using the <code>until()</code> and <code>since()</code> methods of <code>Temporal.PlainDateTime</code>, <code>Temporal.PlainDate</code>, <code>Temporal.PlainYearMonth</code>, and <code>Temporal.ZonedDateTime</code>.</p>
<p>If <code>one</code> is later than <code>two</code>, then the resulting duration should be negative.</p>
<p>The default <code>largestUnit</code> value of <code>&#39;auto&#39;</code> is the same as <code>&#39;day&#39;</code>.</p>
<blockquote>
<p><strong>NOTE:</strong> Unlike <code>Temporal.Calendar.dateAdd()</code>, the <code>options</code> object that this method receives is not always the same object passed to the respective <code>until()</code> or <code>since()</code> method.
Depending on the type, a copy may be made of the object.</p>
</blockquote>
<p>For example:</p>
<pre class="language-javascript"><code class="language-javascript">d1 <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>PlainDate<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'2020-07-29'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withCalendar</span><span class="token punctuation">(</span><span class="token string">'chinese'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
d2 <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>PlainDate<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'2020-08-29'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withCalendar</span><span class="token punctuation">(</span><span class="token string">'chinese'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
d1<span class="token punctuation">.</span><span class="token function">until</span><span class="token punctuation">(</span>d2<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">largestUnit</span><span class="token operator">:</span> <span class="token string">'month'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => P1M2D</span>

<span class="token comment">// same result, but calling the method directly:</span>
Temporal<span class="token punctuation">.</span>Calendar<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'chinese'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">dateUntil</span><span class="token punctuation">(</span>
  Temporal<span class="token punctuation">.</span>PlainDate<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'2020-07-29'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  Temporal<span class="token punctuation">.</span>PlainDate<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'2020-08-29'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">largestUnit</span><span class="token operator">:</span> <span class="token string">'month'</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => P1M2D</span></code></pre><h3 id="fields"><a class="heading-link" href="#fields"></a>calendar.<strong>fields</strong>(<em>fields</em>: Iterable&lt;string&gt;) : string[]</h3><p><strong>Parameters:</strong></p>
<ul>
<li><code>fields</code> (array of strings, or other iterable yielding strings): A list of field names.</li>
</ul>
<p><strong>Returns:</strong> a new array of field names.</p>
<p>This method does not need to be called directly except in specialized code.
It is called indirectly when using the <code>from()</code> static methods and <code>with()</code> methods of <code>Temporal.PlainDateTime</code>, <code>Temporal.PlainDate</code>, <code>Temporal.PlainMonthDay</code>, <code>Temporal.PlainYearMonth</code>, and <code>Temporal.ZonedDateTime</code>, and a number of other methods.</p>
<p>Custom calendars should override this method if they accept fields in <code>from()</code> or <code>with()</code> other than the standard set of built-in calendar fields: <code>year</code>, <code>month</code>, <code>monthCode</code>, and <code>day</code>.
The input array contains the field names that are necessary for a particular operation (for example, <code>&#39;monthCode&#39;</code> and <code>&#39;day&#39;</code> for <code>Temporal.PlainMonthDay.prototype.with()</code>).
The method should make a copy of the array and add additional fields as needed.</p>
<p>When subclassing <code>Temporal.Calendar</code>, this method doesn&#39;t need to be overridden, unless your calendar requires extra fields, because the default implementation returns a copy of <code>fields</code>.</p>
<p>Usage example:</p>
<!-- prettier-ignore-start -->
<pre class="language-js"><code class="language-js"><span class="token comment">// In the ISO 8601 calendar, this method just makes a copy of the input array</span>
Temporal<span class="token punctuation">.</span>Calendar<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'iso8601'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fields</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'monthCode'</span><span class="token punctuation">,</span> <span class="token string">'day'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// => [ 'monthCode', 'day' ]</span></code></pre><!-- prettier-ignore-end -->

<h3 id="mergeFields"><a class="heading-link" href="#mergeFields"></a>calendar.<strong>mergeFields</strong>(<em>fields</em>: object, <em>additionalFields</em>: object) : object</h3><p><strong>Parameters:</strong></p>
<ul>
<li><code>fields</code> (object): A plain object with properties representing calendar units.</li>
<li><code>additionalFields</code> (object): Another plain object with properties representing calendar units.</li>
</ul>
<p><strong>Returns:</strong> a new object with properties from both <code>fields</code> and <code>additionalFields</code>.</p>
<p>This method does not need to be called directly except in specialized code.
It is called indirectly when using the <code>with()</code> methods of <code>Temporal.PlainDateTime</code>, <code>Temporal.PlainDate</code>, <code>Temporal.PlainMonthDay</code>, <code>Temporal.PlainYearMonth</code>, and <code>Temporal.ZonedDateTime</code>.</p>
<p>Custom calendars should override this method if they allow a calendar unit to be specified in more than one way.
(For example, the Gregorian calendar allows years to be specified either by a <code>year</code> property or a combination of <code>era</code> and <code>eraYear</code>.)
The overridden implementation should return an object with some or all of the properties from the original <code>fields</code> object and <code>additionalFields</code> copied onto it.</p>
<p>When subclassing <code>Temporal.Calendar</code>, this method doesn&#39;t need to be overridden, unless your calendar adds more ways to specify a unit other than the built-in properties <code>monthCode</code>, <code>era</code>, and <code>eraYear</code>.
The default implementation copies all properties from <code>additionalFields</code> onto <code>fields</code>, taking into account that months may be specified either by <code>month</code> or <code>monthCode</code> properties, and any other special cases required by built-in calendars.</p>
<p>Usage example:</p>
<!-- prettier-ignore-start -->
<pre class="language-js"><code class="language-js"><span class="token comment">// In built-in calendars, this method copies properties, taking `month`</span>
<span class="token comment">// and `monthCode` into account</span>
Temporal<span class="token punctuation">.</span>Calendar<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'iso8601'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mergeFields</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">2006</span><span class="token punctuation">,</span> <span class="token literal-property property">month</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token literal-property property">day</span><span class="token operator">:</span> <span class="token number">31</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">monthCode</span><span class="token operator">:</span> <span class="token string">'M08'</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// => { year: 2006, monthCode: 'M08', day: 31 }</span></code></pre><!-- prettier-ignore-end -->

<h3 id="toString"><a class="heading-link" href="#toString"></a>calendar.<strong>toString</strong>() : string</h3><p><strong>Returns:</strong> The string given by <code>calendar.id</code>.</p>
<p>This method overrides <code>Object.prototype.toString()</code> and provides the calendar&#39;s <code>id</code> property as a human-readable description.</p>
<p>Example usage:</p>
<pre class="language-javascript"><code class="language-javascript">Temporal<span class="token punctuation">.</span>PlainDate<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'2020-05-29[u-ca=gregory]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>calendar<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 'gregory'</span></code></pre><h3 id="toJSON"><a class="heading-link" href="#toJSON"></a>calendar.<strong>toJSON</strong>() : string</h3><p><strong>Returns:</strong> The string given by <code>calendar.id</code>.</p>
<p>This method is the same as <code>calendar.toString()</code>.
It is usually not called directly, but it can be called automatically by <code>JSON.stringify()</code>.</p>
<p>The reverse operation, recovering a <code>Temporal.Calendar</code> object from a string, is <code>Temporal.Calendar.from()</code>, but it cannot be called automatically by <code>JSON.parse()</code>.
If you need to rebuild a <code>Temporal.Calendar</code> object from a JSON string, then you need to know the names of the keys that should be interpreted as <code>Temporal.Calendar</code>s.
In that case you can build a custom &quot;reviver&quot; function for your use case.</p>
<p>When subclassing <code>Temporal.Calendar</code>, this method doesn&#39;t need to be overridden because the default implementation returns the result of calling <code>calendar.toString()</code>.</p>
<p>Example usage:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">775</span><span class="token punctuation">,</span>
  <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">'robotcat'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">'hunter2'</span><span class="token punctuation">,</span> <span class="token comment">// Note: Don't really store passwords like that</span>
  <span class="token literal-property property">userCalendar</span><span class="token operator">:</span> Temporal<span class="token punctuation">.</span>Calendar<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'gregory'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =></span>
<span class="token comment">// {</span>
<span class="token comment">//   "id": 775,</span>
<span class="token comment">//   "username": "robotcat",</span>
<span class="token comment">//   "password": "hunter2",</span>
<span class="token comment">//   "userCalendar": "gregory"</span>
<span class="token comment">// }</span>

<span class="token comment">// To rebuild from the string:</span>
<span class="token keyword">function</span> <span class="token function">reviver</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'Calendar'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> Temporal<span class="token punctuation">.</span>Calendar<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> reviver<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>    <footer>
      <p>
        This page includes a script which loads an implementation of Temporal in your browser.
        You can open a console in your browser's developer tools and try it out directly!
      </p>
      <p>View this or help contribute on <a href="https://github.com/tc39/proposal-temporal">GitHub</a>.</p>
    </footer>
  </body>
</html>
